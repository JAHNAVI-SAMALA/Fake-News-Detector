<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fake News Detector</title>

    <!-- Bootstrap CSS -->
    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
        rel="stylesheet"
    >

    <!-- Custom CSS -->
    <link
        rel="stylesheet"
        href="{{ url_for('static', filename='style.css') }}"
    >

    <style>
        /* Gradient Button */
        .btn-gradient {
            background: linear-gradient(90deg, #4e54c8, #8f94fb);
            color: white;
            border: none;
        }

        .btn-gradient:hover {
            opacity: 0.9;
        }

        /* Progress Bar Styles */
        .prob-bar-container {
            display: flex;
            height: 20px;
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }

        .prob-bar {
            height: 100%;
        }

        .real-bar {
            background-color: #0d6efd; /* Bootstrap primary */
        }

        .fake-bar {
            background-color: #dc3545; /* Bootstrap danger */
        }

        /* Icon Styling */
        .icon {
            width: 30px;
            height: 30px;
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary bg-gradient shadow">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#">
                üì∞ Fake News Detector
            </a>
        </div>
    </nav>

    <!-- Main Container -->
    <div class="container mt-5">
        <div class="card shadow-lg p-4 rounded-4 bg-white">
            <h2 class="text-center mb-4 text-primary">
                Check Your News Article
            </h2>

            <form method="POST">
                <textarea
                    name="news_text"
                    class="form-control mb-3 p-3"
                    rows="6"
                    placeholder="Paste your news article here..."
                    required
                ></textarea>

                <button
                    type="submit"
                    class="btn btn-gradient w-100 btn-lg"
                    aria-label="Predict if news is fake or real"
                >
                    Predict
                </button>
            </form>

            {% if result and result.label %}
                <div class="mt-4">
                    <h4 class="text-center mb-3">Prediction</h4>

                    <div class="d-flex justify-content-center align-items-center mb-2">
                        {% if result.label == 'Real' %}
                            <img
                                src="{{ url_for('static', filename='icons/real.png') }}"
                                class="icon me-2"
                                alt="Real News Icon"
                            >
                        {% else %}
                            <img
                                src="{{ url_for('static', filename='icons/fake.png') }}"
                                class="icon me-2"
                                alt="Fake News Icon"
                            >
                        {% endif %}

                        <h5 class="fw-bold">
                            {{ result.label }}
                        </h5>
                    </div>

                    {% if result.label != 'Satire' %}
                        <div class="prob-bar-container">
                            <div
                                class="prob-bar real-bar"
                                style="width: {{ (result.real_prob * 100) | round(2) }}%;"
                            ></div>
                            <div
                                class="prob-bar fake-bar"
                                style="width: {{ (result.fake_prob * 100) | round(2) }}%;"
                            ></div>
                        </div>

                        <div class="d-flex justify-content-between mt-1">
                            <small>
                                Real: {{ (result.real_prob * 100) | round(2) }}%
                            </small>
                            <small>
                                Fake: {{ (result.fake_prob * 100) | round(2) }}%
                            </small>
                        </div>
                    {% else %}
                        <div class="alert alert-warning text-center mt-3">
                            ‚ö†Ô∏è This article appears to be
                            <strong>satirical</strong>.<br>
                            Probability scores are not applicable.
                        </div>
                    {% endif %}
                </div>
            {% endif %}
        </div>
    </div>

    <!-- Footer -->
    <footer class="text-center mt-5 mb-3 text-muted">
        &copy; 2026 Fake News Detector | Built by Jahnavi Samala
    </footer>
</body>
</html>
